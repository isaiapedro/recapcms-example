<!DOCTYPE html>
<html lang="en">
<head>
    <title>My Portfolio</title>
    <style>
        body { font-family: sans-serif; padding: 2rem; }
        .gallery { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); 
            gap: 20px; 
        }
        .card { border: 1px solid #ddd; padding: 10px; border-radius: 8px; }
        img { width: 100%; height: 200px; object-fit: cover; border-radius: 4px; }
        h3 { font-size: 1rem; margin: 10px 0 0 0; }
    </style>
</head>
<body>
    <h1>My Data Engineering Portfolio</h1>
    <div id="gallery" class="gallery">Loading images...</div>

    <script>
        // 1. Fetch the data generated by our Python script
        fetch('portfolio.json')
            .then(response => {
                if (!response.ok) throw new Error("JSON not found. Did you run build_index.py?");
                return response.json();
            })
            .then(data => {
                const gallery = document.getElementById('gallery');
                gallery.innerHTML = ''; // Clear "Loading..."

                // 2. Loop through data and build HTML
                data.forEach(item => {
                    const card = document.createElement('div');
                    card.className = 'card';
                    card.innerHTML = `
                        <img src="${item.image}" alt="${item.title}">
                        <h3>${item.title}</h3>
                    `;
                    gallery.appendChild(card);
                });
            })
            .catch(error => {
                document.getElementById('gallery').innerHTML = 
                    `<p style="color:red">Error loading gallery: ${error.message}</p>`;
            });
    </script>
</body>
</html>